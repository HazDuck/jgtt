import{j as e,r as m}from"./vite-client.js";const w=async(a,s)=>await(await fetch(window.Shopify.routes.root+`recommendations/products.json?product_id=${a}&limit=${s}&intent=related`)).json(),N=({price:a})=>e.jsxs("div",{className:"price",children:["Â£",a/100," GBP"]}),_=({product:{id:a,featured_image:s,title:t,price:n}})=>e.jsx("li",{className:"grid__item scroll-trigger animate--slide-in",children:e.jsx("div",{className:"card-wrapper product-card-wrapper underline-links-hover",children:e.jsxs("div",{className:"card card--standard card--media",children:[e.jsx("img",{src:`${s}&_width=400`,alt:t,className:"motion-reduce",loading:"lazy"}),e.jsx("div",{className:"card__content",children:e.jsxs("div",{className:"card__information",children:[e.jsx("h3",{className:"card__heading h5",children:t}),e.jsxs("div",{className:"card__information",children:[e.jsx("span",{className:"caption-large light"}),e.jsx(N,{price:n})]})]})})]})})},a),R=()=>{const[a,s]=m.useState([]);return m.useEffect(()=>{const t=async()=>await w(9564517761316,10);(async()=>{const d=localStorage.getItem("jgRecentlyViewedData");if(d){const c=Object.values(JSON.parse(d));if((c==null?void 0:c.length)<4){const i=await t(),r=[...c];let o=0;for(;r.length<4&&i.products.length;){const l=i.products.filter(x=>!c.find(f=>f.id===x.id));if(l.length===0)break;const{id:h,title:p,price:u,featured_image:g}=l[o],j={id:h,title:p,price:u,featured_image:g};r.push(j),o++}s(r)}else s(c)}})()},[]),a.length?e.jsxs("div",{className:"page-width-desktop",children:[e.jsx("h2",{children:"Recently Viewed"}),e.jsx("ul",{className:"grid product-grid contains-card contains-card--product contains-card--standard grid--4-col-desktop grid--2-col-tablet-down",children:a.map(t=>e.jsx(_,{product:t},t.id))})]}):null};export{R as default};
