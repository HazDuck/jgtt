import{j as r}from"./vite-app.js";const h=async s=>{const e=document.querySelector("cart-drawer"),t=await(async()=>{try{return(await fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:s,quantity:1}],sections:e.getSectionsToRender().map(d=>d.id)})})).json()}catch(c){console.error(c)}})();e.renderContents(t)},u=({variantId:s,buttonBackgroundColor:e})=>r.jsx("button",{style:{backgroundColor:e},className:"button",onClick:()=>h(s),children:"Add to cart"}),m=({price:s})=>r.jsxs("div",{className:"price",children:["Â£",s/100," GBP"]}),p=({product:{id:s,title:e,media:a,handle:t,price:c,variants:d},buttonBackgroundColor:l})=>{var n,o,i;return r.jsx("li",{className:"grid__item scroll-trigger animate--slide-in",children:r.jsx("div",{className:"card-wrapper product-card-wrapper underline-links-hover",children:r.jsxs("div",{className:"card card--standard card--media",children:[r.jsx("img",{src:`${a&&((n=a[0])==null?void 0:n.src)}&_width=400`,alt:a&&((o=a[0])==null?void 0:o.alt),className:"motion-reduce",loading:"lazy"}),r.jsx("div",{className:"card__content",children:r.jsxs("div",{className:"card__information",children:[r.jsx("h3",{className:"card__heading h5",children:r.jsx("a",{href:`products/${t}`,children:e})}),r.jsxs("div",{className:"card__information",children:[r.jsx("span",{className:"caption-large light"}),r.jsx(m,{price:c})]})]})}),r.jsx(u,{buttonBackgroundColor:l,variantId:d&&d[0]&&((i=d[0])==null?void 0:i.id)})]})})},s)},j=({padding:s,rvData:e,buttonBackgroundColor:a})=>r.jsx("ul",{style:{padding:`${s}px`},className:"grid product-grid contains-card contains-card--product contains-card--standard grid--4-col-desktop grid--2-col-tablet-down",children:e.map(t=>r.jsx(p,{buttonBackgroundColor:a,product:t},t.id))}),g=({padding:s,button_background_color:e,text_color:a,title:t,rvData:c})=>c.length?r.jsxs("div",{className:"page-width-desktop",children:[r.jsx("h2",{style:{color:a},children:t}),r.jsx(j,{buttonBackgroundColor:e,padding:s,rvData:c})]}):null;export{g as default};
